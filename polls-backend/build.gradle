plugins {
	id("java")
	id("org.springframework.boot") version("3.4.0")
	id("io.spring.dependency-management") version("1.1.6")
}

ext {
	springBootVersion ='3.4.0'
	liquibaseVersion = '4.30.0'
	mssqlVersion = '12.8.1.jre11'
	lombokVersion = '1.18.36'
}

group =("com.polls")
version =("0.0.1-SNAPSHOT")

java {
	toolchain {
		languageVersion = JavaLanguageVersion.of(17)
	}
}

repositories {
	mavenCentral()
}

dependencies {
	compileOnly("org.projectlombok:lombok:${lombokVersion}")
	annotationProcessor("org.projectlombok:lombok:${lombokVersion}")

	implementation("org.springframework.boot:spring-boot-starter-data-jdbc:${springBootVersion}")
	implementation("org.springframework.boot:spring-boot-starter-web:${springBootVersion}")
	implementation("org.liquibase:liquibase-core:${liquibaseVersion}")

	runtimeOnly("com.microsoft.sqlserver:mssql-jdbc:${mssqlVersion}")

	testImplementation("org.springframework.boot:spring-boot-starter-test:${springBootVersion}")
	testRuntimeOnly("org.junit.platform:junit-platform-launcher")
}

tasks.named('test') {
	useJUnitPlatform()
}
